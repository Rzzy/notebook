### 字符串常量

"abcd"+1

这表示什么呢？我们知道字符串常量其实是一个指向常量的指针，所以对字符串常量加1，结果是指向其中第二个字符的

```c
const char *s="abcd"+1;
printf("%s",s);   //打印bcd
```

那么`"abcd"[2]` 又代表什么意思呢？



### 下标

有如下定义：

```c
int a[5]={1,2,3,4,5};
```

那么 `2[a]` 是什么意思呢？

我们把它打印出来看看:

```c
printf("%d",2[a]);

//结果为：3
```

得到结果为3，这让我们想到`2[a]`就是`a[2]`,没错就是这样的。为什么会是这样呢？看看下面的分析：

对于元素a[2],在访问它的时候有这样的一个转换：

`*(a+2)`

所以，`2[a]` 就是 `*(2+a)` ,由此看出下标在前还是数组名在前都一样。但是为了可读性，我们可不要写出`2[a]`这样的形式呀。

至此第一点中`"abcd"[2]` 是什么意思应该明白了吧。所有的下标在进行访问的时候都是通过转化成这样来访问的： `*(指针+偏移量)` 。所以 `"abcd"[2]`  的值是`c`


所以这条语句可以用在进制转换上面，神奇不？ `putchar("0123456789ABCDEF"[i%16])`



### 多维数组


int A[5][5][5];

对A[2][3][4]的访问实际上是怎样的？

1. 第一步： `*(A[2][3]+4)`
2. 第二步： `*(*(A[2]+3)+4)`
3. 第三步 : `*(*(*(A+2)+3)+4)`

所以A[2][3][4]的值就是*(*(*(A+2)+3)+4)。

### 申明

```c
char* a,b,c;
```

这样很容易让人认为是声明了三个指向char类型的指针a,b,c 但是实际上这里只是声明a是一个指针，而b，c被声明为字符。

# typedef

有时候为了使变量有明确的意义，可以使用`typedef int *ptr_to_int`这样ptr_to_int就是一个指针类型。

ptr_to_int a,b,c;

这样就声明了三个指向int的指针。正如它们的类型名说明的一样。

但是有的人认为这可以使用宏来完成

```c
#define ptr_to_int int *
ptr_to_int a,b;
```

但是这里其实和第1点中的情况一致，a为int指针，而b为int。

所以我们应该用typedef 来定义新的类型

### const

const 用于指明声明一个常量，在程序中不得修改。

```c
int const a = 10;
const int a = 10;
```

这两种情况是一样的效果。这里着重说明一下指针类型。

```c
int const *a = &b;
const int *a = &b;
```

这里说明a为指向常量的指针，可以修改指针的值，但是不能修改指针指向的值。而

```c
int * const a = &b;
```

这里说明a为一个常量指针，不可以修改指针的值，但是可以修改指针所指的值。而

```c
const int *const a = &b;
```

这说明a是一个指向常量的常量指针，也就是不可以修改指针的指向，也不可以修改指针指向的值。
